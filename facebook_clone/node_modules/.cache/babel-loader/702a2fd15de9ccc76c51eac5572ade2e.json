{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amans\\\\OneDrive\\\\Desktop\\\\react_Projects\\\\facebook_clone\\\\facebook_clone\\\\src\\\\Components\\\\Feed.js\";\nimport React, { useEffect, useState } from 'react';\nimport \"./Feed.css\";\nimport StoryReel from \"./StoryReel\";\nimport MessageSender from \"./MessageSender\";\nimport Post from \"./Post\";\nimport axios from '../axios';\nimport Pusher from 'pusher-js';\nconst pusher = new Pusher('48b5f5130bcca7f2f281', {\n  cluster: 'ap4'\n});\n\nconst Feed = () => {\n  const [profilePic, setProfilePic] = useState('');\n  const [postsData, setPostData] = useState([]);\n  debugger;\n\n  const syncFeed = () => {\n    axios.get('/retrieve/post').then(res => {\n      console.log(res.data);\n      setPostData(res.data);\n    });\n  };\n\n  useEffect(() => {\n    const channel = pusher.subscribe('posts');\n    channel.bind('inserted', function (data) {\n      syncFeed();\n    });\n  }, []);\n  useEffect(() => {\n    syncFeed();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"feed\",\n    style: {\n      width: \"33%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StoryReel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(MessageSender, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }), postsData.map(entery => /*#__PURE__*/React.createElement(Post, {\n    ProfilePic: entery.avatar,\n    message: entery.text,\n    timeStamp: entery.timeStamp,\n    imgName: entery.imgName,\n    username: entery.user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  })));\n};\n\nexport default Feed;","map":{"version":3,"sources":["C:/Users/amans/OneDrive/Desktop/react_Projects/facebook_clone/facebook_clone/src/Components/Feed.js"],"names":["React","useEffect","useState","StoryReel","MessageSender","Post","axios","Pusher","pusher","cluster","Feed","profilePic","setProfilePic","postsData","setPostData","syncFeed","get","then","res","console","log","data","channel","subscribe","bind","width","map","entery","avatar","text","timeStamp","imgName","user"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAO,YAAP;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,MAAMC,MAAM,GAAG,IAAID,MAAJ,CAAW,sBAAX,EAAmC;AAC9CE,EAAAA,OAAO,EAAE;AADqC,CAAnC,CAAf;;AAIA,MAAMC,IAAI,GAAG,MAAM;AACf,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACW,SAAD,EAAYC,WAAZ,IAA2BZ,QAAQ,CAAC,EAAD,CAAzC;AACA;;AAEA,QAAMa,QAAQ,GAAG,MAAM;AACnBT,IAAAA,KAAK,CAACU,GAAN,CAAU,gBAAV,EACKC,IADL,CACWC,GAAD,IAAS;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAP,MAAAA,WAAW,CAACI,GAAG,CAACG,IAAL,CAAX;AACH,KAJL;AAKH,GAND;;AAQApB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMqB,OAAO,GAAGd,MAAM,CAACe,SAAP,CAAiB,OAAjB,CAAhB;AACAD,IAAAA,OAAO,CAACE,IAAR,CAAa,UAAb,EAAyB,UAASH,IAAT,EAAe;AACpCN,MAAAA,QAAQ;AACf,KAFG;AAGH,GALQ,EAKN,EALM,CAAT;AAOAd,EAAAA,SAAS,CAAE,MAAM;AACbc,IAAAA,QAAQ;AACX,GAFQ,EAEN,EAFM,CAAT;AAGA,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAsB,IAAA,KAAK,EAAI;AAACU,MAAAA,KAAK,EAAG;AAAT,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAIQZ,SAAS,CAACa,GAAV,CAAcC,MAAM,iBAChB,oBAAC,IAAD;AACI,IAAA,UAAU,EAAIA,MAAM,CAACC,MADzB;AAEI,IAAA,OAAO,EAAID,MAAM,CAACE,IAFtB;AAGI,IAAA,SAAS,EAAIF,MAAM,CAACG,SAHxB;AAII,IAAA,OAAO,EAAGH,MAAM,CAACI,OAJrB;AAKI,IAAA,QAAQ,EAAEJ,MAAM,CAACK,IALrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJR,CADJ;AAkBH,CAzCD;;AA2CA,eAAetB,IAAf","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport \"./Feed.css\"\r\nimport StoryReel from \"./StoryReel\"\r\nimport MessageSender from \"./MessageSender\"\r\nimport Post from \"./Post\"\r\nimport axios from '../axios'\r\nimport Pusher from 'pusher-js'\r\n\r\nconst pusher = new Pusher('48b5f5130bcca7f2f281', {\r\n    cluster: 'ap4'\r\n});\r\n\r\nconst Feed = () => {\r\n    const [profilePic, setProfilePic] = useState('')\r\n    const [postsData, setPostData] = useState([])\r\n    debugger;\r\n\r\n    const syncFeed = () => {\r\n        axios.get('/retrieve/post')\r\n            .then((res) => {\r\n                console.log(res.data)\r\n                setPostData(res.data)\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        const channel = pusher.subscribe('posts');\r\n        channel.bind('inserted', function(data) {\r\n            syncFeed()\r\n    });\r\n    }, [])\r\n\r\n    useEffect (() => {\r\n        syncFeed()\r\n    }, [])\r\n    return (\r\n        <div className=\"feed\" style = {{width : \"33%\"}}>\r\n            <StoryReel />\r\n            <MessageSender />\r\n            {\r\n                postsData.map(entery => (\r\n                    <Post \r\n                        ProfilePic = {entery.avatar}\r\n                        message = {entery.text}\r\n                        timeStamp = {entery.timeStamp}\r\n                        imgName= {entery.imgName}\r\n                        username={entery.user}\r\n                    />\r\n                ))\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Feed\r\n"]},"metadata":{},"sourceType":"module"}